<!DOCTYPE html>
<html>
<head>
	<title>Ejer6</title>
	<script type="text/javascript">

		let openWindow;
		let timeout;

		window.onload = iniciar;

		function iniciar(){
			let boton=document.getElementById("boton");
			boton.addEventListener("click", crearVentana);
		}

		function crearVentana(){
			openWindow=window.open("","_blank","width=200, height=200");
			openWindow.addEventListener('click', cerrarVentana);
			timeout=setTimeout(cerrarVentana,3000);	
			openWindow.addEventListener('mousemove', moverPagina);
		}
		function moverPagina(){
			clearTimeout(timeout);
			timeout=setTimeout(cerrarVentana,3000);
		}

		function cerrarVentana(){
			openWindow.close();
			clearTimeout(timeout);
		}
	</script>
</head>
<body>
	<input type="button" value="Nueva pagina" id="boton">
</body>
</html>